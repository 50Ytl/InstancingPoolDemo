# InstancingPoolDemo
Instancing Pool Demo is a lightweight data oriented laser projectile solution for Unity using DrawMeshInstanced

This project contains the data oriented laser projectile solution I designed for my Disputed Space and Allspace games, which are available through Steam.  This solution runs in Unity 5.5 and newer, and relies on the DrawMeshInstanced method in the Unity API for rendering using GPU Instancing.  This solution delivers about six times the performance of a well written object pool, and this solution does not create additional game objects for each laser projectile.  I have tested this code in Unity 5.5, Unity 2018.4, and Unity 2019.3.

I am making this available because other game developers have asked to see the code.  If you are a game developer and you are making a new project right now, I actually recommend using Unity's official DOTS solution instead of this code, but you can use this in your game projects if you want to.  Just remember that this is an excellent example of a light weight data oriented solution, but this is not intended to be a complete DOTS/ECS style solution.

### Meshbaker
When you use the DrawMeshInstanced method in Unity, you need to supply a single mesh and single material.  I used MeshBaker to bake multiple textured quads into a single new game object in an empty scene.  That created game object is not used, but the mesh and material are.  Then I use the mesh and material generated by MeshBaker to supply the DrawMeshInstanced method.  I have included mesh, material, texture, and shader examples in this GitHub repository.  

In my Disputed Space and Allspace games, I also used MeshBaker to prebake additional weapons including turrets with multiple lasers.  For example, some laser turrets in Disputed Space have three or four gun barrels.  I prebake the lasers from all of those gun barrels into a single mesh and material combo.  That way a triple or quad laser turrent only launches a single projectile each time all of the gun barrels fire together.  This is an additional way I increased the number of lasers in the scene while decreasing draw calls.

